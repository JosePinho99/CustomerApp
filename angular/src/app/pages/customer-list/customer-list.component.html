
<h2 class="title">Customer List</h2>

<mat-table [dataSource]="dataSourceToUse" matSort class="styled-table">

  <!-- Name Column -->
  <ng-container matColumnDef="name">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Name</mat-header-cell>
    <mat-cell *matCellDef="let row">
      <ng-container *ngIf="!row.isSkeleton; else skeletonRow">
        {{ row.name }}
      </ng-container>
    </mat-cell>
  </ng-container>

  <!-- Email Column -->
  <ng-container matColumnDef="email">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Email</mat-header-cell>
    <mat-cell *matCellDef="let row">
      <ng-container *ngIf="!row.isSkeleton; else skeletonRow">
        {{ row.email }}
      </ng-container>
    </mat-cell>
  </ng-container>

  <!-- Phone Column -->
  <ng-container matColumnDef="phone">
    <mat-header-cell *matHeaderCellDef>Phone</mat-header-cell>
    <mat-cell *matCellDef="let row">
      <ng-container *ngIf="!row.isSkeleton; else skeletonRow">
        {{ row.phone }}
      </ng-container>
    </mat-cell>
  </ng-container>

  <!-- Actions Column -->
  <ng-container matColumnDef="actions">
    <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
    <mat-cell *matCellDef="let row">
      <ng-container *ngIf="!row.isSkeleton; else skeletonRow">
        <button mat-raised-button color="primary" (click)="viewCustomer(row.id)">View</button>
      </ng-container>
    </mat-cell>
  </ng-container>

  <!-- Render headers and rows -->
  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>

</mat-table>



<ng-template #skeletonRow>
  <div class="skeleton-box"></div>
</ng-template>
